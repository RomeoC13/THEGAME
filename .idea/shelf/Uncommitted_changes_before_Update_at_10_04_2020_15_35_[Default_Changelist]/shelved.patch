Index: src/App.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import React from 'react';\nimport './App.css';\nimport {Pictionary} from \"./Pictionary.js\";\nimport {LoginWindow} from \"./LoginWindow.js\";\nimport {PetitBacStart} from \"./PetitBacStart\";\nimport {Room} from \"./Room\";\nimport {AppClient} from \"./Clients\";\n\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {current: \"login\", room: '0', game: '0', userCount: 0, roomList: [], roomTypes: []};\n        this.closeChat = this.closeChat.bind(this);\n        this.startChat = this.startChat.bind(this);\n        this.setName = this.setName.bind(this);\n        this.setGame = this.setGame.bind(this);\n        this.setRoom = this.setRoom.bind(this);\n        this.componentDidMount = this.componentDidMount.bind(this);\n        this.joinRoom = this.joinRoom.bind(this);\n        this.nameAlreadyToken = this.nameAlreadyToken.bind(this);\n        this.ac = new AppClient();\n        this.warningMessage = \"\";\n    }\n\n    componentWillUnmount() {\n\n    }\n\n    componentDidMount() {\n        this.ac.updatePlayerCount(this.updatePlayerCount);\n        this.ac.updateRooms(this.updateRooms);\n        this.ac.askUpdateCount();\n        this.ac.askUpdateRooms();\n    }\n\n    updatePlayerCount = (count) => {\n        this.setState({userCount: count});\n        /*this.forceUpdate();*/\n    };\n\n    updateRooms = (data) => {\n        this.setState({roomList: data.rooms, roomType: data.roomsType});\n        this.forceUpdate();\n    };\n\n\n    closeChat() {\n        console.log(\"CLOSE FUCKIT\")\n        this.setState({current: \"login\"});\n        setTimeout(() => {\n            this.ac.askUpdateCount();\n            this.ac.askUpdateRooms();\n            this.forceUpdate();\n        }, 50)\n\n    }\n\n    startChat() {\n        console.log(\"NAMEALREADYTOKEN\", this.nameAlreadyToken(this.state.name));\n        if (this.state.name === undefined || this.state.name === \"\") {\n            this.warningMessage = \"Please enter a valid name\";\n            this.forceUpdate();\n        } else if (this.nameAlreadyToken(this.state.name) === true) {\n            console.log(\"THIS NAME IS REALDZQDQZ\");\n            this.warningMessage = \"This name is already token choose another\";\n            this.forceUpdate();\n        } else {\n            this.setState({current: \"game\"})\n        }\n\n    }\n\n    setName(name) {\n        this.setState({name: name})\n    }\n\n    setRoom(room) {\n        this.setState({room: room.target.value})\n    }\n\n    nameAlreadyToken(name) {\n        this.state.roomList.forEach((room) => {\n            if (room.indexOf(name) === -1) {\n                return true;\n            }\n        });\n        return false;\n    }\n\n    setGame(game) {\n        this.setState({game: game.target.value})\n    }\n\n    joinRoom(room) {\n        this.setState({room: room});\n        this.startChat();\n    }\n\n    render() {\n        let rooms = this.state.roomList.map((room) => <Room key={this.state.roomList.indexOf(room)}\n                                                            joinRoom={this.joinRoom}\n                                                            roomName={this.state.roomList.indexOf(room)}\n                                                            type={this.state.roomType[this.state.roomList.indexOf(room)]}\n                                                            userList={room}/>);\n        let orJoinaRoom = \"\";\n        if (this.state.roomList.length !== 0) {\n            orJoinaRoom = <h4>or join a room</h4>;\n        }\n\n        if (this.state.current === \"login\") {\n            return <div>\n                <h4>Currently playing : {this.state.userCount} players</h4>\n                <LoginWindow warning={this.warningMessage} onNameChange={this.setName} onLogin={this.startChat}\n                             onRoomChange={this.setRoom} onGameChange={this.setGame}/>\n                {orJoinaRoom}\n                {rooms}\n            </div>;\n        } else if (this.state.game === \"0\")\n            return <Pictionary statename={this.state.name} closeChat={this.closeChat} room={this.state.room}/>;\n        else\n            return <PetitBacStart statename={this.state.name} closeChat={this.closeChat} room={this.state.room}/>;\n    }\n\n}\n\nexport default App;\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- src/App.js	(revision d2cadf2e6f356b93c30c1bed7d99c3558dedfbcb)
+++ src/App.js	(date 1586437698373)
@@ -115,6 +115,7 @@
                              onRoomChange={this.setRoom} onGameChange={this.setGame}/>
                 {orJoinaRoom}
                 {rooms}
+                {this.state.roomType}
             </div>;
         } else if (this.state.game === "0")
             return <Pictionary statename={this.state.name} closeChat={this.closeChat} room={this.state.room}/>;
Index: src/Clients.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import openSocket from 'socket.io-client';\n\nconst socket = openSocket();\n\nclass AppClient {\n    updatePlayerCount(op) {\n        socket.on('update-playercount', (data) => op(data))\n    }\n\n    askUpdateCount() {\n        socket.emit('ask-update-playercount');\n    }\n\n    askUpdateRooms() {\n        socket.emit('ask-update-roomlist');\n    }\n\n    updateRooms(op) {\n        socket.on('update-roomlist', (data) => op(data))\n    }\n}\n\nclass PictionaryClient {\n\n    updateUsers(op,room) {\n        socket.on('update-names', function (data) {\n            op(data[room])\n        });\n    }\n\n    emitUser(user,room) {\n        socket.emit('join', {user : user, room : room,type : \"Pictionary\"})\n    }\n\n    userLeave(user,room) {\n        socket.emit('leave', {user: user,room: room})\n    }\n\n    print(msg) {\n        socket.emit('print', msg);\n    }\n\n}\n\nclass ChatClient {\n\n    constructor(username) {\n        socket.emit('set-name', username)\n    }\n\n    onMessages(cb, room) {\n        socket.on('add-messages', function (data) {\n            data.forEach((message)=> {\n                if (message.room === room || message.room ===\"all\") {\n                    cb(message)\n                }\n            })\n        })\n    }\n\n    sendMessage(message, room) {\n        socket.emit('post-message', {text: message, room: room})\n    }\n}\n\nclass TimerClient {\n\n    listenTimer(cb,room) {\n        socket.on('timer', function (data) {\n            if(data.room === room){\n                cb(data)\n            }\n        })\n    }\n\n    callReset(seconds,room){\n        /*console.log('reset',{value :seconds,room : room});*/\n        socket.emit('reset',{value :seconds,room : room})\n    }\n\n}\n\nclass GameClient {\n\n    startGame(room){\n        socket.emit(\"start-game\",room)\n    }\n\n    listenFirstRound(op,room){\n        socket.on('first-round',function (data) {\n            if(data.room === room){\n                op(data);\n            }\n        })\n    }\n\n    listenRound(op,room){\n        socket.on('round-game',function (data) {\n            if(data.room=== room)\n                op(data);\n        })\n    }\n\n    asWin(player,drawer,room){\n        socket.emit(\"win\",{player : player,drawer: drawer,room: room})\n    }\n\n    loose(drawer,room){\n        socket.emit(\"loose\",{drawer : drawer,room: room})\n    }\n\n    stopGame(playerWhoLeft,room){\n        socket.emit(\"end-game\",{player : playerWhoLeft, room: room});\n    }\n\n    listenEndGame(op,room){\n        socket.on(\"game-stopped\",function (data) {\n            if(data.room===room){\n                op(data.player);\n            }\n        })\n    }\n}\n\nclass PetitBacClient{\n\n}\n\nexport {AppClient,PictionaryClient,ChatClient,TimerClient,GameClient,PetitBacClient}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- src/Clients.js	(revision d2cadf2e6f356b93c30c1bed7d99c3558dedfbcb)
+++ src/Clients.js	(date 1586440918880)
@@ -86,6 +86,18 @@
         socket.emit("start-game",room)
     }
 
+    startPetitBac(room){
+        socket.emit("start-game-pb",room)
+    }
+
+    listenPetitBacLetter(op,room){
+        socket.on('start-PetitBac',function (data) {
+            if(data.room === room){
+                op(data);
+            }
+        })
+    }
+
     listenFirstRound(op,room){
         socket.on('first-round',function (data) {
             if(data.room === room){
@@ -124,6 +136,25 @@
 
 class PetitBacClient{
 
+    updateUsers(op,room) {
+        socket.on('update-names', function (data) {
+            op(data[room])
+        });
+    }
+
+    emitUser(user,room) {
+        socket.emit('join', {user : user, room : room,type : "Petit Bac"})
+    }
+
+    userLeave(user,room) {
+        socket.emit('leave', {user: user,room: room})
+    }
+
+    print(msg) {
+        socket.emit('print', msg);
+    }
+
+
 }
 
 export {AppClient,PictionaryClient,ChatClient,TimerClient,GameClient,PetitBacClient}
\ No newline at end of file
Index: server.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>const express = require('express');\nconst app = express();\nconst http = require('http').createServer(app);\nconst io = require('socket.io')(http);\nconst bodyParser = require(\"body-parser\");\napp.use(express.static('build'));\napp.use(bodyParser.json());\n\nconst port = process.env.PORT || 3001;\n\nhttp.listen(port, () => console.log(\"Listening on port :\", port));\n\n//PICTIONNARY USAGE :\nconst messages = [{name: 'bot', text: 'Bienvenue ', room: \"all\"}];\n//Rooms Array is a 2D Array, a room of Pictionnary with few players named \"Romeo\" ,\"Pauline\" and \"Yash\" in room \"3\" will be stored like this :\n// rooms[\"3\"]=[\"Romeo\",\"Pauline\",\"Yash\"}] and roomsType[\"3\"]=Pictionnary\nlet rooms = [];\nlet roomsType = [];\n//Every rooms as his own countdown, for example room \"3\" if created as his countdown in countdowns[\"3\"]\nvar countdowns = [];\n//Every rooms as his own lines storage, for example room \"3\" line's if created are stored in lines[\"3\"]\nlet lines = [];\nlet score = [];\nvar words = [\n    \"storage\", \"virus\", \"restaurant\", \"college\", \"debt\",\n    \"passenger\", \"leader\", \"energy\", \"tongue\", \"lady\",\n    \"boyfriend\", \"sister\", \"recipe\", \"speech\", \"protection\",\n    \"newspaper\", \"language\", \"inspector\", \"professor\", \"advice\",\n    \"physics\", \"collection\", \"army\", \"honey\", \"letter\",\n    \"pen\", \"police\", \"people\", \"sound\", \"water\",\n    \"breakfast\", \"place\", \"man\", \"woman\", \"boy\",\n    \"girl\", \"week\", \"month\", \"name\", \"line\",\n    \"air\", \"home\", \"hand\", \"house\", \"picture\",\n    \"animal\", \"mother\", \"father\", \"sister\", \"world\",\n    \"head\", \"page\", \"country\", \"question\", \"school\",\n    \"plant\", \"food\", \"sun\", \"state\", \"eye\",\n    \"city\", \"tree\", \"farm\", \"story\", \"sea\",\n    \"night\", \"day\", \"life\", \"child\", \"paper\",\n    \"music\", \"river\", \"book\", \"science\", \"room\",\n    \"friend\", \"idea\", \"fish\", \"mountain\", \"horse\",\n    \"watch\", \"color\", \"face\", \"wood\", \"list\",\n    \"bird\", \"song\", \"door\", \"forest\", \"wind\",\n    \"ship\", \"area\", \"fire\", \"airplane\", \"top\",\n    \"bottom\", \"king\", \"space\", \"whale\", \"unicorn\",\n    \"furniture\", \"sunset\", \"sunburn\",\n];\n\nfunction newWord() {\n    wordcount = Math.floor(Math.random() * (words.length));\n    return words[wordcount];\n}\n\n\n//DEMINEUR USAGE :\n\n\n//PETIT BAC USAGE :\n//POTENTIELLEMENT CHANGER\nvar letters =[\n    \"A\", \"B\", \"C\", \"D\" ,\"E\" ,\"F\", \"G\", \"H\" ,\"I\", \"J\" ,\"K\", \"L\", \"M\" ,\"N\" ,\"O\", \"P\" ,\"Q\", \"R\", \"S\" ,\"T\" ,\"U\", \"V\", \"W\" ,\"X\", \"Y\", \"Z\",\n];\n\nfunction newLetter() {\n    wordcount = Math.floor(Math.random() * (words.length));\n    return letters[wordcount];\n}\n\n//GENERAL APP USAGE :\nlet onlineCount = 0;\nlet users = [];\nlet wordcount;\n\nfunction resetTimer(value, room) {\n    countdowns[room] = value;\n    //console.log('Reset : timer', {countdown: value, room: room});\n    io.emit('timer', {countdown: value, room: room});\n}\n\nfunction updateNames() {\n    //console.log('update-names', rooms);\n    io.emit('update-names', rooms);\n}\n\nio.on('connection', (client) => {\n    //console.log(\"New connection\");\n\n    client.on(\"join\", (data) => {\n        var name = data.user;\n        var room = data.room;\n        var type = data.type;\n        if (typeof name != \"string\" || room === undefined) {\n            client.disconnect();\n            return;\n        }\n        onlineCount++;\n        console.log('update-playercount', onlineCount);\n        io.emit('update-playercount', onlineCount);\n        if (!rooms.hasOwnProperty(room)) {\n            rooms[room] = [];\n        }\n        if (!lines.hasOwnProperty(room)) {\n            lines[room] = [];\n        }\n        if (!roomsType.hasOwnProperty(room)) {\n            roomsType[room] = type;\n        }\n        console.log('Nouveau joueur  : ' + name + \" dans \" + room);\n        rooms[room].push(name);\n        users.push(name);\n        io.emit(\"cleared\", room);\n        io.emit(\"update-lines\", lines[room]);\n        console.log('update-roomlist');\n        io.emit('update-roomlist', {rooms: rooms, roomsType: roomsType})\n        updateNames();\n    });\n\n    client.on(\"ask-update-playercount\", () => {\n        console.log('update-playercount', onlineCount);\n        io.emit('update-playercount', onlineCount);\n    });\n\n    client.on('ask-update-roomlist', () => {\n        console.log('update-roomlist');\n        io.emit('update-roomlist', {rooms: rooms, roomsType: roomsType})\n    });\n\n    client.on('user-drawing', (data) => {\n        var x0 = data.x0;\n        var x1 = data.x1;\n        var y0 = data.y0;\n        var y1 = data.y1;\n        var color = data.color;\n        var room = data.room;\n        var line = {x0: x0, x1: x1, y0: y0, y1: y1, color: color, room: room}\n        lines[room].push(line);\n        console.log('add-drawing', line);\n        io.emit('add-drawing', line);\n        console.log('drawing on emit server on room :', room);\n    });\n\n    client.on('ask-clear', function (room) {\n        console.log(\"cleared\", room);\n        lines[room] = [];\n        io.emit(\"cleared\", room);\n    });\n\n    client.on('print', (msg) => {\n        console.log(\"printing : \" + msg);\n    });\n\n    client.on('set-name', (name) => {\n        console.log('set-name', name);\n        client.username = name;\n        client.emit('add-messages', messages)\n    });\n\n    client.on('post-message', (data) => {\n        let text = data.text;\n        let room = data.room;\n        const message = {name: client.username, text: text, room: room};\n        messages.push(message);\n        console.log(message);\n        io.emit('add-messages', [message])\n    });\n\n    client.on('reset', function (data) {\n        var room = data.room;\n        var value = data.value;\n        resetTimer(value, room);\n    });\n\n    client.on('leave', function (data) {\n        var name = data.user;\n        var room = data.room;\n        console.log(\"Joueur \" + data.user + \" a quitter \" + data.room);\n\n        if (rooms.hasOwnProperty(room)) {\n            var indexName = rooms[room].indexOf(name);\n            rooms[room].splice(indexName, 1);\n            if (rooms[room].length === 0) {\n                delete roomsType[room];\n                var i = rooms.indexOf(room);\n                rooms.splice(i, 1);\n            }\n            updateNames();\n            onlineCount--;\n            console.log('update-roomlist');\n            io.emit('update-roomlist', {rooms: rooms, roomsType: roomsType});\n            console.log('update-playercount', onlineCount);\n            io.emit('update-playercount', onlineCount);\n        }\n    });\n\n\n    client.on('start-game', function (room) {\n        lines[room] = [];\n        io.emit(\"cleared\", room);\n        let players = rooms[room];\n        players.forEach((player) => {\n            score[player] = 0;\n        });\n        let firstplayer = Math.floor(Math.random() * players.length);\n        let word = newWord();\n        console.log('first-round', {player: players[firstplayer], word: word, room: room});\n        io.emit('first-round', {player: players[firstplayer], word: word, room: room});\n        resetTimer(10, room);\n    });\n\n    client.on('startPetitBac', function (room){\n        let players = rooms[room];\n        players.forEach((player) => {\n            score[player] = 0;\n        });\n        let letter = newLetter();\n        console.log('startPetitBac', {letter: letter, room : room});\n        io.emit('startPetitBac', {letter: letter, room : room});\n    });\n\n    client.on('win', function (data) {\n        let winner = data.player;\n        score[winner]++;\n        let drawer = data.drawer;\n        let room = data.room;\n        let players = rooms[room];\n        let word = newWord();\n        lines[room] = [];\n        io.emit(\"cleared\", room);\n        let indexOfNextDrawer = (players.indexOf(drawer) + 1) % (players.length);\n        console.log('round-game', {players: players[indexOfNextDrawer], word: word, room: room, scoreToUpdate: winner})\n        io.emit('round-game', {player: players[indexOfNextDrawer], word: word, room: room, scoreToUpdate: winner});\n        resetTimer(10, room);\n    });\n\n    client.on('loose', function (data) {\n        let drawer = data.drawer;\n        let room = data.room;\n        let players = rooms[room];\n        lines[room] = [];\n        io.emit(\"cleared\", room);\n        let indexOfNextDrawer = (players.indexOf(drawer) + 1) % (players.length);\n        let word = newWord();\n        console.log('round-game', {players: players[indexOfNextDrawer], word: word, room: room});\n        io.emit('round-game', {player: players[indexOfNextDrawer], word: word, room: room});\n        resetTimer(10, room);\n    });\n\n    client.on('end-game', function (data) {\n        let room = data.room;\n        let playerWhoLeft = data.player;\n        let players = rooms[room];\n        if (players !== undefined) {\n            players.forEach((player) => {\n                delete score[player];\n            });\n        }\n        console.log(\"game-stopped\", {player: playerWhoLeft, room: room});\n        io.emit(\"game-stopped\", {player: playerWhoLeft, room: room});\n    });\n});\n\n\nsetInterval(function () {\n    for (let [room, roomCountdown] of Object.entries(countdowns)) {\n        if (roomCountdown > 0) {\n            countdowns[room]--;\n            let value = countdowns[room];\n            console.log('timer', {countdown: value, room: room});\n            io.emit('timer', {countdown: value, room: room});\n        }\n    }\n}, 1000);\n\nconst path = require(\"path\");\napp.get(\"*\", (req, res) => {\n    res.sendFile(path.join(__dirname, \"../build/index.html\"));\n});\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- server.js	(revision d2cadf2e6f356b93c30c1bed7d99c3558dedfbcb)
+++ server.js	(date 1586524517182)
@@ -191,7 +191,6 @@
         }
     });
 
-
     client.on('start-game', function (room) {
         lines[room] = [];
         io.emit("cleared", room);
@@ -206,15 +205,17 @@
         resetTimer(10, room);
     });
 
-    client.on('startPetitBac', function (room){
+
+    client.on("start-game-pb", function (room) {
         let players = rooms[room];
         players.forEach((player) => {
             score[player] = 0;
         });
         let letter = newLetter();
-        console.log('startPetitBac', {letter: letter, room : room});
-        io.emit('startPetitBac', {letter: letter, room : room});
+        console.log('start-PetitBac', {letter: letter, room : room});
+        io.emit('start-PetitBac', {letter: letter, room : room});
     });
+
 
     client.on('win', function (data) {
         let winner = data.player;
Index: src/PetitBac.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import React from \"react\";\nimport {Timer} from \"./Timer\";\nimport {GameClient, PetitBacClient, } from \"./Clients\";\nimport {PetitBacStart} from \"./PetitBacStart\";\n\nclass PetitBac extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            names: [], info: \"\", currentLetter : \"\" ,scores: [], gameRunning: false,\n            Names: [], City: [], Country: [], Animal: [], Food: [], Object: [], Job: [], Movie: [], Song: []\n        };\n\n        this.setNames = this.setNames.bind(this);\n        this.sendMsg = this.sendMsg.bind(this);\n        this.componentDidMount = this.componentDidMount.bind(this);\n        this.componentWillUnmount = this.componentWillUnmount.bind(this);\n\n        this.client = new PetitBacClient();\n        this.game = new GameClient();\n        /*this.setNames = this.setNames().bind(this);\n        this.setCity = this.setCity().bind(this);\n        this.setCountry = this.setCountry().bind(this);\n        this.setAnimal = this.setAnimal().bind(this);\n        this.setFood = this.setFood().bind(this);\n        this.setObject = this.setObject().bind(this);\n        this.setJob = this.setJob().bind(this);\n        this.setMovie = this.setMovie().bind(this);\n        this.setSong = this.setSong().bind(this);*/\n    }\n\n    sendMsg(message) {\n        if (this.state.currentWord === message.text && this.state.currentDrawer !== message.name && this.state.gameRunning) {\n            console.log(\"good  job\");\n            this.setState({info: \"Good job, \" + message.name + \" ! The word was \" + this.state.currentWord});\n            if (this.props.statename === this.state.currentDrawer) {\n                setTimeout(() => this.game.asWin(message.name, this.state.currentDrawer, this.props.room), 2000);\n            }\n        }\n    }\n\n    componentDidMount() {\n        //this.client.updateUsers(this.setNames, this.props.room);\n       // this.client.emitUser(this.props.statename, this.props.room);\n        this.setupBeforeUnloadListener(this.pc);\n        this.game.listenFirstRound(this.firstround, this.props.room);\n        this.game.listenRound(this.nextRound, this.props.room);\n        this.game.listenEndGame(this.endGame, this.props.room);\n    }\n\n    componentWillUnmount() {\n        this.client.userLeave(this.props.statename);\n    }\n\n    setNames = (name) => {\n        this.setState({names: name})\n    };\n\n    setupBeforeUnloadListener = (pc) => {\n        window.addEventListener(\"beforeunload\", (ev) => {\n            ev.preventDefault();\n            pc.userLeave(this.props.statename, this.props.room);\n            if (this.state.gameRunning) {\n                this.game.stopGame(this.props.statename, this.props.room);\n            }\n            return ev.returnValue = \"test\";\n        });\n    };\n\n\n    /*setNames(names) {\n        this.setState({Names: names.target.value})\n    }\n    setCity(city) {\n        this.setState({City: city.target.value})\n    }\n    setCountry(country) {\n        this.setState({Country: country.target.value})\n    }\n    setAnimal(animal) {\n        this.setState({Animal: animal.target.value})\n    }\n    setFood(food) {\n        this.setState({Food: food.target.value})\n    }\n    setObject(object) {\n        this.setState({Object: object.target.value})\n    }\n    setJob(job) {\n        this.setState({Job: job.target.value})\n    }\n    setMovie(movie) {\n        this.setState({Movie: movie.target.value})\n    }\n    setSong(song) {\n        this.setState({Song: song.target.value})\n    }*/\n\n\n    render() {\n        var names;\n        if (!this.state.endGame) {\n            names = this.state.names.map((m) => <player key={m}> {m} </player>);\n            this.button = <button onClick={this.endGame}> Finish !</button>;\n            this.timer = \"\";\n        } else {\n            this.timer = <Timer seconds={'100'} room={this.props.room} timeIsUp={this.timeIsUp}/>;\n            this.button = <button onClick={this.endGame}> Finish !</button>;\n            names = this.state.names.map((m) => <player key={m}> {m} score {this.state.scores[m]} </player>);\n        }\n        return <div>\n\n            <label>Name </label> <br/>\n            <input onChange={this.props.onPBNameChange}/><br/>\n            <label>City </label> <br/>\n            <input onChange={this.props.onPBCityChange}/><br/>\n            <label>Country</label> <br/>\n            <input onChange={this.props.onPBCountryChange}/><br/>\n            <label>Animal </label> <br/>\n            <input onChange={this.props.onPBAnimalChange}/><br/>\n            <label>Food </label> <br/>\n            <input onChange={this.props.onPBFoodChange}/><br/>\n            <label>Object</label> <br/>\n            <input onChange={this.props.onPBObjectChange}/><br/>\n            <label>Job</label> <br/>\n            <input onChange={this.props.onPBJobChange}/><br/>\n            <label>Movie </label> <br/>\n            <input onChange={this.props.onPBMovieChange}/><br/>\n            <label>Song </label> <br/>\n            <input onChange={this.props.onPBSongChange}/><br/>\n            {this.button}\n            <div id=\"players-list\">\n                <h4>Players online in room {this.props.room} </h4>\n                <p> {names} </p>\n            </div>\n        </div>\n    }\n}\nexport {PetitBac}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- src/PetitBac.js	(revision d2cadf2e6f356b93c30c1bed7d99c3558dedfbcb)
+++ src/PetitBac.js	(date 1586525306217)
@@ -1,7 +1,6 @@
 import React from "react";
 import {Timer} from "./Timer";
 import {GameClient, PetitBacClient, } from "./Clients";
-import {PetitBacStart} from "./PetitBacStart";
 
 class PetitBac extends React.Component {
 
@@ -14,7 +13,6 @@
         };
 
         this.setNames = this.setNames.bind(this);
-        this.sendMsg = this.sendMsg.bind(this);
         this.componentDidMount = this.componentDidMount.bind(this);
         this.componentWillUnmount = this.componentWillUnmount.bind(this);
 
@@ -31,21 +29,11 @@
         this.setSong = this.setSong().bind(this);*/
     }
 
-    sendMsg(message) {
-        if (this.state.currentWord === message.text && this.state.currentDrawer !== message.name && this.state.gameRunning) {
-            console.log("good  job");
-            this.setState({info: "Good job, " + message.name + " ! The word was " + this.state.currentWord});
-            if (this.props.statename === this.state.currentDrawer) {
-                setTimeout(() => this.game.asWin(message.name, this.state.currentDrawer, this.props.room), 2000);
-            }
-        }
-    }
 
     componentDidMount() {
         //this.client.updateUsers(this.setNames, this.props.room);
        // this.client.emitUser(this.props.statename, this.props.room);
         this.setupBeforeUnloadListener(this.pc);
-        this.game.listenFirstRound(this.firstround, this.props.room);
         this.game.listenRound(this.nextRound, this.props.room);
         this.game.listenEndGame(this.endGame, this.props.room);
     }
Index: src/PetitBacStart.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import React from \"react\";\nimport {Timer} from \"./Timer\";\nimport {PetitBac} from \"./PetitBac\";\n\nclass PetitBacStart extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            letter: this.randomLetter(),\n            names: [],\n            info: \"\",\n            currentLetter: \"\",\n            scores: [],\n            gameRunning: false,\n            Names: [], City: [], Country: [], Animal: [], Food: [], Object: [], Job: [], Movie: [], Song: []\n        };\n        this.handleClick = this.handleClick.bind(this);\n    }\n\n    randomLetter() {\n        var letters = [\n            \"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\", \"K\", \"L\", \"M\", \"N\", \"O\", \"P\", \"Q\", \"R\", \"S\", \"T\", \"U\", \"V\", \"W\", \"X\", \"Y\", \"Z\",\n        ];\n        var wordcount = Math.floor(Math.random() * (letters.length));\n        return letters[wordcount];\n    }\n\n    handleClick(){\n        //alert('Appeler PETITBAC');\n        this.setState({gameRunning : true})\n    }\n\n    render() {\n        var names;\n        if (!this.state.endGame) {\n            names = this.state.names.map((m) => <player key={m}> {m} </player>);\n            this.button = <button onClick={this.endGame}> Finish !</button>;\n            this.timer = \"\";\n        } else {\n            this.timer = <Timer seconds={'100'} room={this.props.room} timeIsUp={this.timeIsUp}/>;\n            this.button = <button onClick={this.endGame}> Finish !</button>;\n            names = this.state.names.map((m) => <player key={m}> {m} score {this.state.scores[m]} </player>);\n        }\n\n        if(this.state.gameRunning === true){\n            return <PetitBac/>\n        }\n        return <div>\n            THE LETTER IS : {this.state.letter}\n            <button onClick={this.handleClick}>Start Playing !</button>\n\n            <div id=\"players-list\">\n                <h4>Players online in room {this.props.room} </h4>\n                <p> {names} </p>\n            </div>\n        </div>\n    }\n}\n\nexport {PetitBacStart}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- src/PetitBacStart.js	(revision d2cadf2e6f356b93c30c1bed7d99c3558dedfbcb)
+++ src/PetitBacStart.js	(date 1586525672263)
@@ -1,34 +1,94 @@
 import React from "react";
 import {Timer} from "./Timer";
 import {PetitBac} from "./PetitBac";
+import {GameClient, PetitBacClient} from "./Clients";
 
 class PetitBacStart extends React.Component {
 
     constructor(props) {
         super(props);
         this.state = {
-            letter: this.randomLetter(),
             names: [],
             info: "",
-            currentLetter: "",
             scores: [],
             gameRunning: false,
-            Names: [], City: [], Country: [], Animal: [], Food: [], Object: [], Job: [], Movie: [], Song: []
         };
-        this.handleClick = this.handleClick.bind(this);
+
+
+        this.setNames = this.setNames.bind(this);
+        this.componentDidMount = this.componentDidMount.bind(this);
+        this.componentWillUnmount = this.componentWillUnmount.bind(this);
+        this.startGame = this.startGame.bind(this);
+        this.endGame = this.endGame.bind(this);
+        this.leave = this.leave.bind(this);
+        this.letterSet = this.letterSet.bind(this);
+
+        this.pbc = new PetitBacClient();
+        this.game = new GameClient();
+
+
+    }
+
+    setNames = (name) => {
+        this.setState({names: name})
+    };
+
+    letterSet (){
+        alert('test');
     }
 
-    randomLetter() {
-        var letters = [
-            "A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z",
-        ];
-        var wordcount = Math.floor(Math.random() * (letters.length));
-        return letters[wordcount];
+
+    componentDidMount() {
+        this.pbc.updateUsers(this.setNames, this.props.room);
+        this.pbc.emitUser(this.props.statename, this.props.room);
+        this.setupBeforeUnloadListener(this.pbc);
+        this.game.listenEndGame(this.endGame, this.props.room);
+        this.game.listenPetitBacLetter(this.letterSet, this.props.room);
     }
 
-    handleClick(){
-        //alert('Appeler PETITBAC');
-        this.setState({gameRunning : true})
+
+    componentWillUnmount() {
+        this.pbc.userLeave(this.props.statename);
+    }
+
+
+    setupBeforeUnloadListener = (pbc) => {
+        window.addEventListener("beforeunload", (ev) => {
+            ev.preventDefault();
+            pbc.userLeave(this.props.statename, this.props.room);
+            if (this.state.gameRunning) {
+                this.game.stopGame(this.props.statename, this.props.room);
+            }
+            return ev.returnValue = "test";
+        });
+    };
+
+
+    startGame() {
+        if (this.state.names.length < 2) {
+            // eslint-disable-next-line no-useless-escape
+            alert("You can't play Petit Bac game alone ¯\\_(ツ)_/¯, you must at least be 2 !");
+        } else {
+            console.log("STARTGAME")
+            this.setState({gameRunning: true})
+            this.game.startPetitBac(this.props.room)
+
+        }
+    }
+
+
+    endGame(player) {
+        this.setState({gameRunning: false});
+        this.setState({info: player + " as left ! The party is over"})
+    }
+
+
+    leave() {
+        this.props.closeChat();
+        this.pbc.userLeave(this.props.statename, this.props.room);
+        if (this.state.gameRunning) {
+            this.game.stopGame(this.props.statename, this.props.room);
+        }
     }
 
     render() {
@@ -43,17 +103,18 @@
             names = this.state.names.map((m) => <player key={m}> {m} score {this.state.scores[m]} </player>);
         }
 
-        if(this.state.gameRunning === true){
+        if (this.state.gameRunning === true) {
             return <PetitBac/>
         }
         return <div>
-            THE LETTER IS : {this.state.letter}
-            <button onClick={this.handleClick}>Start Playing !</button>
+
 
             <div id="players-list">
                 <h4>Players online in room {this.props.room} </h4>
                 <p> {names} </p>
             </div>
+
+            <button onClick={this.startGame}>Start Playing !</button>
         </div>
     }
 }
Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project version=\"4\">\n  <component name=\"ChangeListManager\">\n    <list default=\"true\" id=\"1181bf25-1fda-424a-8fab-a2f46bfbae05\" name=\"Default Changelist\" comment=\"adding a useless for now button 'startgame'&#10;fixed a bug where StartGame button was not showed when time is up\">\n      <change beforePath=\"$PROJECT_DIR$/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/workspace.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/server.js\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/server.js\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/src/App.css\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/App.css\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/src/App.js\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/App.js\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/src/Clients.js\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/Clients.js\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/src/LoginWindow.js\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/LoginWindow.js\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/src/Room.js\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/Room.js\" afterDir=\"false\" />\n    </list>\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\n  </component>\n  <component name=\"FileTemplateManagerImpl\">\n    <option name=\"RECENT_TEMPLATES\">\n      <list>\n        <option value=\"JavaScript File\" />\n      </list>\n    </option>\n  </component>\n  <component name=\"Git.Settings\">\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\n    <option name=\"RESET_MODE\" value=\"HARD\" />\n    <option name=\"UPDATE_TYPE\" value=\"MERGE\" />\n    <option name=\"WARN_ABOUT_DETACHED_HEAD\" value=\"false\" />\n  </component>\n  <component name=\"IgnoredFileRootStore\">\n    <option name=\"generatedRoots\">\n      <set>\n        <option value=\"C:\\Users\\pateo\\Documents\\L3\\Web\\pictionnary\\.idea\" />\n      </set>\n    </option>\n  </component>\n  <component name=\"ProjectId\" id=\"1ZUvlsb1dVr84UI1Ul7Qr1aMcls\" />\n  <component name=\"ProjectLevelVcsManager\" settingsEditedManually=\"true\" />\n  <component name=\"ProjectViewState\">\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\n    <option name=\"showExcludedFiles\" value=\"true\" />\n    <option name=\"showLibraryContents\" value=\"true\" />\n  </component>\n  <component name=\"PropertiesComponent\">\n    <property name=\"RunOnceActivity.ShowReadmeOnStart\" value=\"true\" />\n    <property name=\"WebServerToolWindowFactoryState\" value=\"false\" />\n    <property name=\"last_opened_file_path\" value=\"$PROJECT_DIR$\" />\n    <property name=\"node.js.detected.package.eslint\" value=\"true\" />\n    <property name=\"node.js.path.for.package.eslint\" value=\"project\" />\n    <property name=\"node.js.selected.package.eslint\" value=\"(autodetect)\" />\n    <property name=\"nodejs_package_manager_path\" value=\"npm\" />\n    <property name=\"settings.editor.selected.configurable\" value=\"vcs.Git\" />\n  </component>\n  <component name=\"SvnConfiguration\">\n    <configuration />\n  </component>\n  <component name=\"TaskManager\">\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\n      <changelist id=\"1181bf25-1fda-424a-8fab-a2f46bfbae05\" name=\"Default Changelist\" comment=\"\" />\n      <created>1584906640834</created>\n      <option name=\"number\" value=\"Default\" />\n      <option name=\"presentableId\" value=\"Default\" />\n      <updated>1584906640834</updated>\n      <workItem from=\"1584906644773\" duration=\"3002000\" />\n      <workItem from=\"1585149404286\" duration=\"5078000\" />\n      <workItem from=\"1585155754983\" duration=\"3760000\" />\n      <workItem from=\"1585230681969\" duration=\"7490000\" />\n      <workItem from=\"1585240454641\" duration=\"6321000\" />\n      <workItem from=\"1585334067090\" duration=\"1407000\" />\n      <workItem from=\"1585395152384\" duration=\"32099000\" />\n      <workItem from=\"1585500820664\" duration=\"1551000\" />\n      <workItem from=\"1585575125095\" duration=\"8217000\" />\n      <workItem from=\"1585654230515\" duration=\"16874000\" />\n      <workItem from=\"1585762584498\" duration=\"2353000\" />\n      <workItem from=\"1585767931985\" duration=\"1587000\" />\n      <workItem from=\"1585828172763\" duration=\"7137000\" />\n      <workItem from=\"1586102479164\" duration=\"800000\" />\n    </task>\n    <task id=\"LOCAL-00001\" summary=\"Refactor du Canvas avec socket\">\n      <created>1585246617826</created>\n      <option name=\"number\" value=\"00001\" />\n      <option name=\"presentableId\" value=\"LOCAL-00001\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1585246617826</updated>\n    </task>\n    <task id=\"LOCAL-00002\" summary=\"commit\">\n      <created>1585334628272</created>\n      <option name=\"number\" value=\"00002\" />\n      <option name=\"presentableId\" value=\"LOCAL-00002\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1585334628272</updated>\n    </task>\n    <task id=\"LOCAL-00003\" summary=\"repair list of players\">\n      <created>1585395484942</created>\n      <option name=\"number\" value=\"00003\" />\n      <option name=\"presentableId\" value=\"LOCAL-00003\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1585395484942</updated>\n    </task>\n    <task id=\"LOCAL-00004\" summary=\"making reset button working\">\n      <created>1585396630149</created>\n      <option name=\"number\" value=\"00004\" />\n      <option name=\"presentableId\" value=\"LOCAL-00004\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1585396630149</updated>\n    </task>\n    <task id=\"LOCAL-00005\" summary=\"adding a useless for now button 'startgame'&#10;fixed a bug where StartGame button was not showed when time is up\">\n      <created>1585396968563</created>\n      <option name=\"number\" value=\"00005\" />\n      <option name=\"presentableId\" value=\"LOCAL-00005\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1585396968563</updated>\n    </task>\n    <task id=\"LOCAL-00006\" summary=\"Room system for chat, timer and playerlist\">\n      <created>1585412013278</created>\n      <option name=\"number\" value=\"00006\" />\n      <option name=\"presentableId\" value=\"LOCAL-00006\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1585412013278</updated>\n    </task>\n    <task id=\"LOCAL-00007\" summary=\"cleaning\">\n      <created>1585412244615</created>\n      <option name=\"number\" value=\"00007\" />\n      <option name=\"presentableId\" value=\"LOCAL-00007\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1585412244615</updated>\n    </task>\n    <task id=\"LOCAL-00008\" summary=\"Welcome message is now general for all room\">\n      <created>1585412666587</created>\n      <option name=\"number\" value=\"00008\" />\n      <option name=\"presentableId\" value=\"LOCAL-00008\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1585412666587</updated>\n    </task>\n    <task id=\"LOCAL-00009\" summary=\"cleaning\">\n      <created>1585413357838</created>\n      <option name=\"number\" value=\"00009\" />\n      <option name=\"presentableId\" value=\"LOCAL-00009\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1585413357838</updated>\n    </task>\n    <task id=\"LOCAL-00010\" summary=\"suppressing warning\">\n      <created>1585413619555</created>\n      <option name=\"number\" value=\"00010\" />\n      <option name=\"presentableId\" value=\"LOCAL-00010\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1585413619555</updated>\n    </task>\n    <task id=\"LOCAL-00011\" summary=\"Small improvement for the login page\">\n      <created>1585414858398</created>\n      <option name=\"number\" value=\"00011\" />\n      <option name=\"presentableId\" value=\"LOCAL-00011\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1585414858398</updated>\n    </task>\n    <task id=\"LOCAL-00012\" summary=\"fixing font of &lt;discret&gt;\">\n      <created>1585414913321</created>\n      <option name=\"number\" value=\"00012\" />\n      <option name=\"presentableId\" value=\"LOCAL-00012\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1585414913321</updated>\n    </task>\n    <task id=\"LOCAL-00013\" summary=\"english is now the only language of THEGAME\">\n      <created>1585415134560</created>\n      <option name=\"number\" value=\"00013\" />\n      <option name=\"presentableId\" value=\"LOCAL-00013\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1585415134560</updated>\n    </task>\n    <task id=\"LOCAL-00014\" summary=\"fixing canvas propreties\">\n      <created>1585415397778</created>\n      <option name=\"number\" value=\"00014\" />\n      <option name=\"presentableId\" value=\"LOCAL-00014\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1585415397778</updated>\n    </task>\n    <task id=\"LOCAL-00015\" summary=\"Implementing all Pictionnaries functionnality except canvas\">\n      <created>1585494009528</created>\n      <option name=\"number\" value=\"00015\" />\n      <option name=\"presentableId\" value=\"LOCAL-00015\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1585494009528</updated>\n    </task>\n    <task id=\"LOCAL-00016\" summary=\"sync Canvas\">\n      <created>1585589699703</created>\n      <option name=\"number\" value=\"00016\" />\n      <option name=\"presentableId\" value=\"LOCAL-00016\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1585589699703</updated>\n    </task>\n    <task id=\"LOCAL-00017\" summary=\"fixing\">\n      <created>1585590508390</created>\n      <option name=\"number\" value=\"00017\" />\n      <option name=\"presentableId\" value=\"LOCAL-00017\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1585590508390</updated>\n    </task>\n    <task id=\"LOCAL-00018\" summary=\"fixing visual issues,&#10;adding color button to canvas,&#10;adjusting visual rendering\">\n      <created>1585659117039</created>\n      <option name=\"number\" value=\"00018\" />\n      <option name=\"presentableId\" value=\"LOCAL-00018\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1585659117039</updated>\n    </task>\n    <task id=\"LOCAL-00019\" summary=\"cleaning\">\n      <created>1585659884230</created>\n      <option name=\"number\" value=\"00019\" />\n      <option name=\"presentableId\" value=\"LOCAL-00019\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1585659884230</updated>\n    </task>\n    <task id=\"LOCAL-00020\" summary=\"chat is now scrollable\">\n      <created>1585662025066</created>\n      <option name=\"number\" value=\"00020\" />\n      <option name=\"presentableId\" value=\"LOCAL-00020\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1585662025066</updated>\n    </task>\n    <task id=\"LOCAL-00021\" summary=\"cleaning\">\n      <created>1585665547841</created>\n      <option name=\"number\" value=\"00021\" />\n      <option name=\"presentableId\" value=\"LOCAL-00021\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1585665547841</updated>\n    </task>\n    <task id=\"LOCAL-00022\" summary=\"adding room selection\">\n      <created>1585765602789</created>\n      <option name=\"number\" value=\"00022\" />\n      <option name=\"presentableId\" value=\"LOCAL-00022\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1585765602789</updated>\n    </task>\n    <task id=\"LOCAL-00023\" summary=\"all client socket is now in Clients.js\">\n      <created>1585765741019</created>\n      <option name=\"number\" value=\"00023\" />\n      <option name=\"presentableId\" value=\"LOCAL-00023\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1585765741019</updated>\n    </task>\n    <task id=\"LOCAL-00024\" summary=\"minor visual fixes\">\n      <created>1585766129558</created>\n      <option name=\"number\" value=\"00024\" />\n      <option name=\"presentableId\" value=\"LOCAL-00024\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1585766129558</updated>\n    </task>\n    <task id=\"LOCAL-00025\" summary=\"minor visual fix\">\n      <created>1585766185535</created>\n      <option name=\"number\" value=\"00025\" />\n      <option name=\"presentableId\" value=\"LOCAL-00025\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1585766185535</updated>\n    </task>\n    <option name=\"localTasksCounter\" value=\"26\" />\n    <servers />\n  </component>\n  <component name=\"TypeScriptGeneratedFilesManager\">\n    <option name=\"version\" value=\"1\" />\n  </component>\n  <component name=\"Vcs.Log.Tabs.Properties\">\n    <option name=\"TAB_STATES\">\n      <map>\n        <entry key=\"MAIN\">\n          <value>\n            <State>\n              <option name=\"COLUMN_ORDER\" />\n            </State>\n          </value>\n        </entry>\n      </map>\n    </option>\n  </component>\n  <component name=\"VcsManagerConfiguration\">\n    <MESSAGE value=\"Refactor du Canvas avec socket\" />\n    <MESSAGE value=\"commit\" />\n    <MESSAGE value=\"repair list of players\" />\n    <MESSAGE value=\"making reset button working\" />\n    <MESSAGE value=\"adding a useless for now button 'startgame'&#10;fixed a bug where StartGame button was not showed when time is up\" />\n    <MESSAGE value=\"Room system for chat, timer and playerlist\" />\n    <MESSAGE value=\"Welcome message is now general for all room\" />\n    <MESSAGE value=\"suppressing warning\" />\n    <MESSAGE value=\"Small improvement for the login page\" />\n    <MESSAGE value=\"fixing font of &lt;discret&gt;\" />\n    <MESSAGE value=\"english is now the only language of THEGAME\" />\n    <MESSAGE value=\"fixing canvas propreties\" />\n    <MESSAGE value=\"Implementing all Pictionnaries functionnality except canvas\" />\n    <MESSAGE value=\"sync Canvas\" />\n    <MESSAGE value=\"fixing\" />\n    <MESSAGE value=\"fixing visual issues,&#10;adding color button to canvas,&#10;adjusting visual rendering\" />\n    <MESSAGE value=\"chat is now scrollable\" />\n    <MESSAGE value=\"cleaning\" />\n    <MESSAGE value=\"adding room selection\" />\n    <MESSAGE value=\"all client socket is now in Clients.js\" />\n    <MESSAGE value=\"minor visual fixes\" />\n    <MESSAGE value=\"minor visual fix\" />\n    <option name=\"LAST_COMMIT_MESSAGE\" value=\"minor visual fix\" />\n  </component>\n  <component name=\"WindowStateProjectService\">\n    <state x=\"223\" y=\"72\" key=\"#com.intellij.execution.impl.EditConfigurationsDialog\" timestamp=\"1585155501010\">\n      <screen x=\"0\" y=\"0\" width=\"1536\" height=\"834\" />\n    </state>\n    <state x=\"223\" y=\"72\" key=\"#com.intellij.execution.impl.EditConfigurationsDialog/0.0.1536.834@0.0.1536.834\" timestamp=\"1585155501010\" />\n    <state x=\"729\" y=\"323\" key=\"#com.intellij.fileTypes.FileTypeChooser\" timestamp=\"1585666283722\">\n      <screen x=\"0\" y=\"0\" width=\"1920\" height=\"1040\" />\n    </state>\n    <state x=\"729\" y=\"323\" key=\"#com.intellij.fileTypes.FileTypeChooser/0.0.1920.1040@0.0.1920.1040\" timestamp=\"1585666283722\" />\n    <state x=\"491\" y=\"15\" width=\"1098\" height=\"810\" key=\"CommitChangelistDialog2\" timestamp=\"1585766185013\">\n      <screen x=\"0\" y=\"0\" width=\"1920\" height=\"1040\" />\n    </state>\n    <state x=\"393\" y=\"12\" width=\"1098\" height=\"810\" key=\"CommitChangelistDialog2/0.0.1536.834@0.0.1536.834\" timestamp=\"1585341150593\" />\n    <state x=\"491\" y=\"15\" key=\"CommitChangelistDialog2/0.0.1920.1040@0.0.1920.1040\" timestamp=\"1585766185013\" />\n    <state x=\"184\" y=\"86\" key=\"MergeDialog\" timestamp=\"1585765414929\">\n      <screen x=\"0\" y=\"0\" width=\"1920\" height=\"1040\" />\n    </state>\n    <state x=\"184\" y=\"86\" key=\"MergeDialog/0.0.1920.1040@0.0.1920.1040\" timestamp=\"1585765414929\" />\n    <state x=\"672\" y=\"236\" key=\"MultipleFileMergeDialog\" timestamp=\"1585765414934\">\n      <screen x=\"0\" y=\"0\" width=\"1920\" height=\"1040\" />\n    </state>\n    <state x=\"672\" y=\"236\" key=\"MultipleFileMergeDialog/0.0.1920.1040@0.0.1920.1040\" timestamp=\"1585765414934\" />\n    <state x=\"750\" y=\"231\" key=\"RollbackChangesDialog\" timestamp=\"1585575139815\">\n      <screen x=\"0\" y=\"0\" width=\"1920\" height=\"1040\" />\n    </state>\n    <state x=\"750\" y=\"231\" key=\"RollbackChangesDialog/0.0.1920.1040@0.0.1920.1040\" timestamp=\"1585575139815\" />\n    <state x=\"277\" y=\"60\" key=\"SettingsEditor\" timestamp=\"1585240513639\">\n      <screen x=\"0\" y=\"0\" width=\"1536\" height=\"834\" />\n    </state>\n    <state x=\"277\" y=\"60\" key=\"SettingsEditor/0.0.1536.834@0.0.1536.834\" timestamp=\"1585240513639\" />\n    <state x=\"451\" y=\"187\" key=\"Vcs.Push.Dialog.v2\" timestamp=\"1585766188304\">\n      <screen x=\"0\" y=\"0\" width=\"1920\" height=\"1040\" />\n    </state>\n    <state x=\"361\" y=\"150\" key=\"Vcs.Push.Dialog.v2/0.0.1536.834@0.0.1536.834\" timestamp=\"1585334630783\" />\n    <state x=\"451\" y=\"187\" key=\"Vcs.Push.Dialog.v2/0.0.1920.1040@0.0.1920.1040\" timestamp=\"1585766188304\" />\n    <state x=\"723\" y=\"416\" key=\"com.intellij.openapi.vcs.update.UpdateOrStatusOptionsDialogupdate-v2\" timestamp=\"1586103299050\">\n      <screen x=\"0\" y=\"0\" width=\"1920\" height=\"1040\" />\n    </state>\n    <state x=\"578\" y=\"334\" key=\"com.intellij.openapi.vcs.update.UpdateOrStatusOptionsDialogupdate-v2/0.0.1536.834@0.0.1536.834\" timestamp=\"1585335732867\" />\n    <state x=\"723\" y=\"416\" key=\"com.intellij.openapi.vcs.update.UpdateOrStatusOptionsDialogupdate-v2/0.0.1920.1040@0.0.1920.1040\" timestamp=\"1586103299050\" />\n    <state x=\"616\" y=\"240\" key=\"run.anything.popup\" timestamp=\"1585658780785\">\n      <screen x=\"0\" y=\"0\" width=\"1920\" height=\"1040\" />\n    </state>\n    <state x=\"616\" y=\"240\" key=\"run.anything.popup/0.0.1920.1040@0.0.1920.1040\" timestamp=\"1585658780785\" />\n    <state x=\"623\" y=\"225\" width=\"672\" height=\"678\" key=\"search.everywhere.popup\" timestamp=\"1585666462630\">\n      <screen x=\"0\" y=\"0\" width=\"1920\" height=\"1040\" />\n    </state>\n    <state x=\"623\" y=\"225\" width=\"672\" height=\"678\" key=\"search.everywhere.popup/0.0.1920.1040@0.0.1920.1040\" timestamp=\"1585666462630\" />\n    <state x=\"682\" y=\"432\" key=\"vcs.readOnlyHandler.ReadOnlyStatusDialog\" timestamp=\"1585413222566\">\n      <screen x=\"0\" y=\"0\" width=\"1920\" height=\"1040\" />\n    </state>\n    <state x=\"682\" y=\"432\" key=\"vcs.readOnlyHandler.ReadOnlyStatusDialog/0.0.1920.1040@0.0.1920.1040\" timestamp=\"1585413222566\" />\n  </component>\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/workspace.xml	(revision d2cadf2e6f356b93c30c1bed7d99c3558dedfbcb)
+++ .idea/workspace.xml	(date 1586525532783)
@@ -4,11 +4,10 @@
     <list default="true" id="1181bf25-1fda-424a-8fab-a2f46bfbae05" name="Default Changelist" comment="adding a useless for now button 'startgame'&#10;fixed a bug where StartGame button was not showed when time is up">
       <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/server.js" beforeDir="false" afterPath="$PROJECT_DIR$/server.js" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/src/App.css" beforeDir="false" afterPath="$PROJECT_DIR$/src/App.css" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/src/App.js" beforeDir="false" afterPath="$PROJECT_DIR$/src/App.js" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/src/Clients.js" beforeDir="false" afterPath="$PROJECT_DIR$/src/Clients.js" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/src/LoginWindow.js" beforeDir="false" afterPath="$PROJECT_DIR$/src/LoginWindow.js" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/src/Room.js" beforeDir="false" afterPath="$PROJECT_DIR$/src/Room.js" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/PetitBac.js" beforeDir="false" afterPath="$PROJECT_DIR$/src/PetitBac.js" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/PetitBacStart.js" beforeDir="false" afterPath="$PROJECT_DIR$/src/PetitBacStart.js" afterDir="false" />
     </list>
     <option name="SHOW_DIALOG" value="false" />
     <option name="HIGHLIGHT_CONFLICTS" value="true" />
@@ -27,19 +26,11 @@
     <option name="RESET_MODE" value="HARD" />
     <option name="UPDATE_TYPE" value="MERGE" />
     <option name="WARN_ABOUT_DETACHED_HEAD" value="false" />
-  </component>
-  <component name="IgnoredFileRootStore">
-    <option name="generatedRoots">
-      <set>
-        <option value="C:\Users\pateo\Documents\L3\Web\pictionnary\.idea" />
-      </set>
-    </option>
   </component>
   <component name="ProjectId" id="1ZUvlsb1dVr84UI1Ul7Qr1aMcls" />
   <component name="ProjectLevelVcsManager" settingsEditedManually="true" />
   <component name="ProjectViewState">
     <option name="hideEmptyMiddlePackages" value="true" />
-    <option name="showExcludedFiles" value="true" />
     <option name="showLibraryContents" value="true" />
   </component>
   <component name="PropertiesComponent">
@@ -50,7 +41,7 @@
     <property name="node.js.path.for.package.eslint" value="project" />
     <property name="node.js.selected.package.eslint" value="(autodetect)" />
     <property name="nodejs_package_manager_path" value="npm" />
-    <property name="settings.editor.selected.configurable" value="vcs.Git" />
+    <property name="settings.editor.selected.configurable" value="editor.preferences.fonts.default" />
   </component>
   <component name="SvnConfiguration">
     <configuration />
@@ -76,6 +67,9 @@
       <workItem from="1585767931985" duration="1587000" />
       <workItem from="1585828172763" duration="7137000" />
       <workItem from="1586102479164" duration="800000" />
+      <workItem from="1586435064934" duration="2104000" />
+      <workItem from="1586438708655" duration="2929000" />
+      <workItem from="1586519223572" duration="4043000" />
     </task>
     <task id="LOCAL-00001" summary="Refactor du Canvas avec socket">
       <created>1585246617826</created>
@@ -252,24 +246,30 @@
       <option name="project" value="LOCAL" />
       <updated>1585766185535</updated>
     </task>
-    <option name="localTasksCounter" value="26" />
+    <task id="LOCAL-00026" summary="Add some render (start of PB) but randomLetter and room aren't working yet. Need to implement server and function to catch this.">
+      <created>1586365928461</created>
+      <option name="number" value="00026" />
+      <option name="presentableId" value="LOCAL-00026" />
+      <option name="project" value="LOCAL" />
+      <updated>1586365928461</updated>
+    </task>
+    <option name="localTasksCounter" value="27" />
     <servers />
   </component>
   <component name="TypeScriptGeneratedFilesManager">
-    <option name="version" value="1" />
+    <option name="version" value="2" />
   </component>
   <component name="Vcs.Log.Tabs.Properties">
     <option name="TAB_STATES">
       <map>
         <entry key="MAIN">
           <value>
-            <State>
-              <option name="COLUMN_ORDER" />
-            </State>
+            <State />
           </value>
         </entry>
       </map>
     </option>
+    <option name="oldMeFiltersMigrated" value="true" />
   </component>
   <component name="VcsManagerConfiguration">
     <MESSAGE value="Refactor du Canvas avec socket" />
@@ -294,7 +294,8 @@
     <MESSAGE value="all client socket is now in Clients.js" />
     <MESSAGE value="minor visual fixes" />
     <MESSAGE value="minor visual fix" />
-    <option name="LAST_COMMIT_MESSAGE" value="minor visual fix" />
+    <MESSAGE value="Add some render (start of PB) but randomLetter and room aren't working yet. Need to implement server and function to catch this." />
+    <option name="LAST_COMMIT_MESSAGE" value="Add some render (start of PB) but randomLetter and room aren't working yet. Need to implement server and function to catch this." />
   </component>
   <component name="WindowStateProjectService">
     <state x="223" y="72" key="#com.intellij.execution.impl.EditConfigurationsDialog" timestamp="1585155501010">
@@ -305,10 +306,10 @@
       <screen x="0" y="0" width="1920" height="1040" />
     </state>
     <state x="729" y="323" key="#com.intellij.fileTypes.FileTypeChooser/0.0.1920.1040@0.0.1920.1040" timestamp="1585666283722" />
-    <state x="491" y="15" width="1098" height="810" key="CommitChangelistDialog2" timestamp="1585766185013">
-      <screen x="0" y="0" width="1920" height="1040" />
+    <state x="393" y="12" width="1098" height="810" key="CommitChangelistDialog2" timestamp="1586365926171">
+      <screen x="0" y="0" width="1536" height="834" />
     </state>
-    <state x="393" y="12" width="1098" height="810" key="CommitChangelistDialog2/0.0.1536.834@0.0.1536.834" timestamp="1585341150593" />
+    <state x="393" y="12" width="1098" height="810" key="CommitChangelistDialog2/0.0.1536.834@0.0.1536.834" timestamp="1586365926171" />
     <state x="491" y="15" key="CommitChangelistDialog2/0.0.1920.1040@0.0.1920.1040" timestamp="1585766185013" />
     <state x="184" y="86" key="MergeDialog" timestamp="1585765414929">
       <screen x="0" y="0" width="1920" height="1040" />
@@ -322,19 +323,19 @@
       <screen x="0" y="0" width="1920" height="1040" />
     </state>
     <state x="750" y="231" key="RollbackChangesDialog/0.0.1920.1040@0.0.1920.1040" timestamp="1585575139815" />
-    <state x="277" y="60" key="SettingsEditor" timestamp="1585240513639">
+    <state x="277" y="60" key="SettingsEditor" timestamp="1586438925625">
       <screen x="0" y="0" width="1536" height="834" />
     </state>
-    <state x="277" y="60" key="SettingsEditor/0.0.1536.834@0.0.1536.834" timestamp="1585240513639" />
-    <state x="451" y="187" key="Vcs.Push.Dialog.v2" timestamp="1585766188304">
-      <screen x="0" y="0" width="1920" height="1040" />
+    <state x="277" y="60" key="SettingsEditor/0.0.1536.834@0.0.1536.834" timestamp="1586438925625" />
+    <state x="361" y="150" key="Vcs.Push.Dialog.v2" timestamp="1586365940051">
+      <screen x="0" y="0" width="1536" height="834" />
     </state>
-    <state x="361" y="150" key="Vcs.Push.Dialog.v2/0.0.1536.834@0.0.1536.834" timestamp="1585334630783" />
+    <state x="361" y="150" key="Vcs.Push.Dialog.v2/0.0.1536.834@0.0.1536.834" timestamp="1586365940051" />
     <state x="451" y="187" key="Vcs.Push.Dialog.v2/0.0.1920.1040@0.0.1920.1040" timestamp="1585766188304" />
-    <state x="723" y="416" key="com.intellij.openapi.vcs.update.UpdateOrStatusOptionsDialogupdate-v2" timestamp="1586103299050">
-      <screen x="0" y="0" width="1920" height="1040" />
+    <state x="578" y="334" key="com.intellij.openapi.vcs.update.UpdateOrStatusOptionsDialogupdate-v2" timestamp="1586362376387">
+      <screen x="0" y="0" width="1536" height="834" />
     </state>
-    <state x="578" y="334" key="com.intellij.openapi.vcs.update.UpdateOrStatusOptionsDialogupdate-v2/0.0.1536.834@0.0.1536.834" timestamp="1585335732867" />
+    <state x="578" y="334" key="com.intellij.openapi.vcs.update.UpdateOrStatusOptionsDialogupdate-v2/0.0.1536.834@0.0.1536.834" timestamp="1586362376387" />
     <state x="723" y="416" key="com.intellij.openapi.vcs.update.UpdateOrStatusOptionsDialogupdate-v2/0.0.1920.1040@0.0.1920.1040" timestamp="1586103299050" />
     <state x="616" y="240" key="run.anything.popup" timestamp="1585658780785">
       <screen x="0" y="0" width="1920" height="1040" />
